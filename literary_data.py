"""–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –±–∞–∑–∞ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π"""

# –ë–∞–∑–∞ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
LITERARY_TERMS = {
    "–∏—Å–ø—Ä–∞–≤–Ω–∏–∫": {
        "definition": "–î–æ–ª–∂–Ω–æ—Å—Ç—å –≤ –†–æ—Å—Å–∏–π—Å–∫–æ–π –∏–º–ø–µ—Ä–∏–∏. –ù–∞—á–∞–ª—å–Ω–∏–∫ —É–µ–∑–¥–Ω–æ–π –ø–æ–ª–∏—Ü–∏–∏, —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —à–µ—Ä–∏—Ñ–∞.",
        "synonym": "–Ω–∞—á–∞–ª—å–Ω–∏–∫ –ø–æ–ª–∏—Ü–∏–∏",
        "examples": ["–ò—Å–ø—Ä–∞–≤–Ω–∏–∫ –±—ã–ª —Å—Ç—Ä–æ–≥–∏–º, –Ω–æ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã–º."],
        "category": "–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –¥–æ–ª–∂–Ω–æ—Å—Ç—å"
    },

    "—à–∞–ø–æ—á–Ω—ã–π —Ä–∞–∑–±–æ—Ä": {
        "definition": "–í—ã—Ä–∞–∂–µ–Ω–∏–µ, –æ–∑–Ω–∞—á–∞—é—â–µ–µ –∫–æ–Ω–µ—Ü, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è. –í —Å—Ç–∞—Ä–∏–Ω—É –ø–æ—Å–ª–µ —Ü–µ—Ä–∫–æ–≤–Ω–æ–π —Å–ª—É–∂–±—ã –ª—é–¥–∏ –Ω–∞–¥–µ–≤–∞–ª–∏ —à–∞–ø–∫–∏ - —ç—Ç–æ –∏ –±—ã–ª '—à–∞–ø–æ—á–Ω—ã–π —Ä–∞–∑–±–æ—Ä'.",
        "synonym": "–≤ –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤",
        "examples": ["–°–ª—É—á–∏–ª–æ—Å—å —ç—Ç–æ –∫ —à–∞–ø–æ—á–Ω–æ–º—É —Ä–∞–∑–±–æ—Ä—É."],
        "category": "—Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º"
    },

    "—Å—Ç–∞—Ä–µ—Ü": {
        "definition": "–í –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ–π —Ç—Ä–∞–¥–∏—Ü–∏–∏ - –¥—É—Ö–æ–≤–Ω—ã–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫, —á–µ–ª–æ–≤–µ–∫, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ –∑–∞ —Å–æ–≤–µ—Ç–æ–º. –í –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–µ —á–∞—Å—Ç–æ –∏–∑–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –º—É–¥—Ä—ã–π —Å—Ç–∞—Ä—ã–π –º–æ–Ω–∞—Ö.",
        "synonym": "–¥—É—Ö–æ–≤–Ω—ã–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫",
        "examples": ["–°—Ç–∞—Ä–µ—Ü –ó–æ—Å–∏–º–∞ –≤ '–ë—Ä–∞—Ç—å—è—Ö –ö–∞—Ä–∞–º–∞–∑–æ–≤—ã—Ö' –î–æ—Å—Ç–æ–µ–≤—Å–∫–æ–≥–æ."],
        "category": "—Ä–µ–ª–∏–≥–∏–æ–∑–Ω—ã–π —Ç–µ—Ä–º–∏–Ω"
    },

    "–∫–∞–ø–µ–ª—å–º–µ–π—Å—Ç–µ—Ä": {
        "definition": "–î–∏—Ä–∏–∂–µ—Ä –æ—Ä–∫–µ—Å—Ç—Ä–∞. –û—Ç –Ω–µ–º–µ—Ü–∫–æ–≥–æ 'Kapellmeister' - —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –∫–∞–ø–µ–ª–ª—ã (–º—É–∑—ã–∫–∞–ª—å–Ω–æ–≥–æ –∞–Ω—Å–∞–º–±–ª—è).",
        "synonym": "–¥–∏—Ä–∏–∂–µ—Ä",
        "examples": ["–ö–∞–ø–µ–ª—å–º–µ–π—Å—Ç–µ—Ä –ø–æ–¥–Ω—è–ª –ø–∞–ª–æ—á–∫—É."],
        "category": "–º—É–∑—ã–∫–∞–ª—å–Ω—ã–π —Ç–µ—Ä–º–∏–Ω"
    },

    "–æ–±—Ä–æ–∫": {
        "definition": "–í–∏–¥ —Ñ–µ–æ–¥–∞–ª—å–Ω–æ–π –ø–æ–≤–∏–Ω–Ω–æ—Å—Ç–∏. –ö—Ä–µ—Å—Ç—å—è–Ω–∏–Ω –ø–ª–∞—Ç–∏–ª –ø–æ–º–µ—â–∏–∫—É –¥–µ–Ω–µ–∂–Ω—ã–π –æ–±—Ä–æ–∫ –≤–º–µ—Å—Ç–æ –±–∞—Ä—â–∏–Ω—ã.",
        "synonym": "–¥–µ–Ω–µ–∂–Ω—ã–π –Ω–∞–ª–æ–≥",
        "examples": ["–ö—Ä–µ—Å—Ç—å—è–Ω–µ –ø–ª–∞—Ç–∏–ª–∏ –ø–æ–º–µ—â–∏–∫—É –æ–±—Ä–æ–∫."],
        "category": "–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —ç–∫–æ–Ω–æ–º–∏–∫–∞"
    },

    "–±–∞—Ä—â–∏–Ω–∞": {
        "definition": "–§–æ—Ä–º–∞ —Ñ–µ–æ–¥–∞–ª—å–Ω–æ–π —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏. –ö—Ä–µ—Å—Ç—å—è–Ω–∏–Ω —Ä–∞–±–æ—Ç–∞–ª –Ω–∞ –ø–æ–º–µ—â–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –≤ –Ω–µ–¥–µ–ª—é.",
        "synonym": "–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π —Ç—Ä—É–¥",
        "examples": ["–ö—Ä–µ—Å—Ç—å—è–Ω–µ –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏ –±–∞—Ä—â–∏–Ω—É –≤ –ø–æ–º–µ—Å—Ç—å–µ."],
        "category": "–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —ç–∫–æ–Ω–æ–º–∏–∫–∞"
    },

    "–¥–≤–æ—Ä—è–Ω–µ": {
        "definition": "–î–≤–æ—Ä—è–Ω—Å–∫–æ–µ —Å–æ—Å–ª–æ–≤–∏–µ. –ü—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å –≤ –†–æ—Å—Å–∏–π—Å–∫–æ–π –∏–º–ø–µ—Ä–∏–∏.",
        "synonym": "–ø–æ–º–µ—â–∏–∫–∏,Ë¥µÊóè",
        "examples": ["–î–≤–æ—Ä—è–Ω–µ –≤–ª–∞–¥–µ–ª–∏ –ø–æ–º–µ—Å—Ç—å—è–º–∏ –∏ –∫—Ä–µ–ø–æ—Å—Ç–Ω—ã–º–∏."],
        "category": "—Å–æ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å"
    },

    "–∫—Ä–µ–ø–æ—Å—Ç–Ω–æ–π": {
        "definition": "–ö—Ä–µ—Å—Ç—å—è–Ω–∏–Ω, –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–π –∫ –∑–µ–º–ª–µ –ø–æ–º–µ—â–∏–∫–∞. –§–æ—Ä–º–∞ –∫—Ä–µ–ø–æ—Å—Ç–Ω–æ–≥–æ –ø—Ä–∞–≤–∞ –≤ –†–æ—Å—Å–∏–∏.",
        "synonym": "–∫—Ä–µ–ø–æ—Å—Ç–Ω–æ–π –∫—Ä–µ—Å—Ç—å—è–Ω–∏–Ω",
        "examples": ["–ö—Ä–µ–ø–æ—Å—Ç–Ω—ã–µ —Ä–∞–±–æ—Ç–∞–ª–∏ –Ω–∞ –±–∞—Ä—â–∏–Ω–µ."],
        "category": "—Å–æ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å"
    },

    "–≥—É–±–µ—Ä–Ω–∏—è": {
        "definition": "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ-—Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –≤ –†–æ—Å—Å–∏–π—Å–∫–æ–π –∏–º–ø–µ—Ä–∏–∏, –ø–æ–¥–æ–±–Ω–∞—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.",
        "synonym": "–æ–±–ª–∞—Å—Ç—å",
        "examples": ["–¢–≤–µ—Ä—Å–∫–∞—è –≥—É–±–µ—Ä–Ω–∏—è —Å–ª–∞–≤–∏–ª–∞—Å—å —Å–≤–æ–∏–º–∏ –ø–æ–º–µ—Å—Ç—å—è–º–∏."],
        "category": "–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —Ç–µ—Ä–º–∏–Ω"
    },

    "—É–µ–∑–¥": {
        "definition": "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –≤–Ω—É—Ç—Ä–∏ –≥—É–±–µ—Ä–Ω–∏–∏ –≤ –†–æ—Å—Å–∏–π—Å–∫–æ–π –∏–º–ø–µ—Ä–∏–∏.",
        "synonym": "—Ä–∞–π–æ–Ω",
        "examples": ["–ò—Å–ø—Ä–∞–≤–Ω–∏–∫ —É–ø—Ä–∞–≤–ª—è–ª —É–µ–∑–¥–æ–º."],
        "category": "–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —Ç–µ—Ä–º–∏–Ω"
    }
}

# –§—Ä–∞–∑—ã –∏ —Ü–∏—Ç–∞—Ç—ã –¥–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è
LITERARY_PHRASES = {
    "–∫ —à–∞–ø–æ—á–Ω–æ–º—É —Ä–∞–∑–±–æ—Ä—É": {
        "explanation": "–í—ã—Ä–∞–∂–µ–Ω–∏–µ –æ–∑–Ω–∞—á–∞–µ—Ç '–∫ –∫–æ–Ω—Ü—É, –ø–æ–¥ —Å–∞–º—ã–π –∫–æ–Ω–µ—Ü —Å–æ–±—ã—Ç–∏—è'. –í —Å—Ç–∞—Ä–∏–Ω—É –ø–æ—Å–ª–µ —Ü–µ—Ä–∫–æ–≤–Ω–æ–π —Å–ª—É–∂–±—ã –ø—Ä–∏—Ö–æ–∂–∞–Ω–µ –Ω–∞–¥–µ–≤–∞–ª–∏ —à–∞–ø–∫–∏ ‚Äî —ç—Ç–æ –∏ –±—ã–ª '—à–∞–ø–æ—á–Ω—ã–π —Ä–∞–∑–±–æ—Ä'.",
        "cultural_context": "–í—ã—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ –±—ã—Ç–∞ XIX –≤–µ–∫–∞, –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ç—Ä–∞–¥–∏—Ü–∏—é —Ä—É—Å—Å–∫–æ–π –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ–π —Ü–µ—Ä–∫–≤–∏.",
        "modern_paraphrase": "–≤ –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤, –∫–æ–≥–¥–∞ –≤—Å—ë —É–∂–µ –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å"
    },

    "–≤—ã–¥–∞—Ç—å –≥–æ–ª–æ–≤–æ–π": {
        "explanation": "–í—ã–¥–∞—Ç—å —á–µ–ª–æ–≤–µ–∫–∞ –≤–ª–∞—Å—Ç—è–º, –ø—Ä–µ–¥–∞—Ç—å. –í —Å—Ç–∞—Ä–∏–Ω—É –ø–ª–µ–Ω–Ω–æ–≥–æ –º–æ–≥–ª–∏ –æ–±–º–µ–Ω—è—Ç—å, –Ω–æ –º–æ–≥–ª–∏ –∏ '–≤—ã–¥–∞—Ç—å –≥–æ–ª–æ–≤–æ–π' ‚Äî —Ç–æ –µ—Å—Ç—å –ø—Ä–µ–¥–∞—Ç—å.",
        "cultural_context": "–û—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –æ–±—ã—á–Ω–æ–º—É –ø—Ä–∞–≤—É —Å–ª–∞–≤—è–Ω –∏ –Ω–æ—Ä–º–∞–º –≥–æ—Å—Ç–µ–ø—Ä–∏–∏–º—Å—Ç–≤–∞.",
        "modern_paraphrase": "–ø—Ä–µ–¥–∞—Ç—å –∫–æ–≥–æ-—Ç–æ"
    },

    "–±—Ä–∞—Ç—å—è –∫–∞—Ä–∞–º–∞–∑–æ–≤—ã": {
        "explanation": "–†–æ–º–∞–Ω –§.–ú. –î–æ—Å—Ç–æ–µ–≤—Å–∫–æ–≥–æ. –ò—Å—Ç–æ—Ä–∏—è —Å–µ–º—å–∏ –ö–∞—Ä–∞–º–∞–∑–æ–≤—ã—Ö ‚Äî –æ—Ç—Ü–∞ –∏ —á–µ—Ç—ã—Ä–µ—Ö —Å—ã–Ω–æ–≤–µ–π, –æ—Ç—Ä–∞–∂–∞—é—â–∞—è —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–µ, —Ä–µ–ª–∏–≥–∏–æ–∑–Ω—ã–µ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –†–æ—Å—Å–∏–∏ XIX –≤–µ–∫–∞.",
        "cultural_context": "–û–¥–∏–Ω –∏–∑ –≤–µ–ª–∏—á–∞–π—à–∏—Ö —Ä–æ–º–∞–Ω–æ–≤ —Ä—É—Å—Å–∫–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã, –∏—Å—Å–ª–µ–¥—É—é—â–∏–π —Ç–µ–º—ã –≤–µ—Ä—ã, –∞—Ç–µ–∏–∑–º–∞, —Å–æ–≤–µ—Å—Ç–∏ –∏ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è.",
        "modern_paraphrase": "—Å–µ–º–µ–π–Ω–∞—è —Å–∞–≥–∞ –æ –ø–æ–∏—Å–∫–∞—Ö –∏—Å—Ç–∏–Ω—ã –∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏"
    }
}

def get_word_definition(word: str):
    """
    –ü–æ–ª—É—á–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞ –∏–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –±–∞–∑—ã

    Args:
        word (str): –°–ª–æ–≤–æ –¥–ª—è –ø–æ–∏—Å–∫–∞

    Returns:
        dict or None: –î–∞–Ω–Ω—ã–µ –æ —Å–ª–æ–≤–µ –∏–ª–∏ None –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
    """
    return LITERARY_TERMS.get(word.lower())

def get_phrase_explanation(phrase: str):
    """
    –ü–æ–ª—É—á–∏—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ñ—Ä–∞–∑—ã –∏–ª–∏ —Ü–∏—Ç–∞—Ç—ã

    Args:
        phrase (str): –§—Ä–∞–∑–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞

    Returns:
        dict or None: –î–∞–Ω–Ω—ã–µ –æ —Ñ—Ä–∞–∑–µ –∏–ª–∏ None –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
    """
    phrase_lower = phrase.lower().strip()

    # –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
    if phrase_lower in LITERARY_PHRASES:
        return LITERARY_PHRASES[phrase_lower]

    # –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤ –∫–ª—é—á–∞—Ö
    for key, value in LITERARY_PHRASES.items():
        if key in phrase_lower:
            return value

    return None

def get_all_words():
    """–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ–≤"""
    return list(LITERARY_TERMS.keys())

def search_similar_words(query: str, limit: int = 5):
    """
    –ù–∞–π—Ç–∏ —Å–ª–æ–≤–∞, –ø–æ—Ö–æ–∂–∏–µ –Ω–∞ –∑–∞–ø—Ä–æ—Å

    Args:
        query (str): –ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
        limit (int): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

    Returns:
        list: –°–ø–∏—Å–æ–∫ –ø–æ—Ö–æ–∂–∏—Ö —Å–ª–æ–≤
    """
    query_lower = query.lower()
    results = []

    for word in LITERARY_TERMS.keys():
        if query_lower in word or word in query_lower:
            results.append(word)

    return results[:limit]

def format_word_response(word_data: dict):
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç –¥–ª—è —Å–ª–æ–≤–∞

    Args:
        word_data (dict): –î–∞–Ω–Ω—ã–µ –æ —Å–ª–æ–≤–µ

    Returns:
        str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞
    """
    response = f"üìù {word_data['definition']}"

    if word_data.get('synonym'):
        response += f"\nüëâ –ü–æ —Å—É—Ç–∏ ‚Äî {word_data['synonym']}."

    if word_data.get('examples'):
        response += "\nüìñ –ü—Ä–∏–º–µ—Ä—ã:"
        for example in word_data['examples']:
            response += f"\n‚Ä¢ {example}"

    return response
